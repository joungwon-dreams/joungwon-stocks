---
created: 2025-11-28 09:46:55
updated: 2025-11-28 09:46:55
tags: [feature, trading, signal, swing-trading, technical-analysis]
author: wonny
status: planning
---

# 스윙 트레이딩 시그널 시스템 (Swing Trading Signal System)

## 개요

1억 원 투자, 초보자, 월 목표 수익률 3~5% 기준에 맞는 **퀀트 기반 스윙 트레이딩** 매수/매도 신호 시스템 설계.

## 현재 포트폴리오 분석 (PDF 데이터 기반)

- **투자 성향**: 한국전력(+13%), 우리금융지주, HDC현대산업개발 등 가치주, 배당주, 실적 개선주 위주의 포트폴리오 (매우 안정적인 접근)
- **현재 성과**: 총 손익 약 +210만 원(+3.09%). 이미 월 목표치 하단에 근접한 훌륭한 성과
- **시스템 환경**: 1분 단위로 시세와 거래량을 수집 중이므로, 장중 흐름을 놓치지 않고 대응할 수 있는 강력한 무기 보유

## 추천 투자 전략: 퀀트 기반 스윙 트레이딩

### 왜 스윙 트레이딩인가?

- **보유 기간**: 3일 ~ 2주 정도 보유
- **장점**: 하루 종일 호가창을 볼 필요가 없고, 추세(Trend)의 몸통을 먹는 전략이라 초보자도 대응이 쉬움
- **자금 규모 적합성**: 1억 원은 단타 치기엔 슬리피지(호가 공백) 우려가 있으나, 스윙으로 분할 매수/매도하기엔 아주 좋은 규모

---

## Gemini 설계 명세서

### 1. 파일 구조 및 위치

| 파일 | 용도 |
|------|------|
| `src/analysis/technical_indicators.py` | 기술적 지표 계산 |
| `src/analysis/trading_signal.py` | 매매 신호 판별 로직 |
| `scripts/test_signal_logic.py` | 테스트 스크립트 |

### 2. 기술적 지표 정의 (technical_indicators.py)

| 함수 | 설명 |
|------|------|
| `calculate_vwap(df)` | 당일 누적 거래량 가중 평균 가격. 공식: Σ(가격 × 거래량) / Σ(거래량) |
| `calculate_rsi(df, period=14)` | 14분 기준 RSI. 과매수: 70↑, 과매도: 30↓ |
| `calculate_ma(df, period)` | 5분/20분/60분 단순 이동평균선 |

### 3. 매매 신호 판별 로직 (trading_signal.py)

**점수 계산 (Total Score: -3 ~ +3)**

| 지표 | 조건 | 점수 |
|------|------|------|
| 추세 (MA) | 정배열 (현재가 > MA20 > MA60) | +1 |
| 추세 (MA) | 역배열 (현재가 < MA20 < MA60) | -1 |
| 타점 (VWAP) | VWAP 지지선 근접 (VWAP ~ VWAP*1.01) & 상승 추세 | +1 |
| 타점 (VWAP) | VWAP 하향 이탈 (VWAP*0.99 이하) | -1 |
| 모멘텀 (RSI) | RSI < 30 (과매도 - 반등 기대) | +1 |
| 모멘텀 (RSI) | RSI > 70 (과매수 - 조정 주의) | -1 |

**최종 판정 (Decision)**

| 점수 | 신호 | 아이콘 |
|------|------|--------|
| ≥ +2 | STRONG BUY (강력 매수) | 🔴 |
| +1 | BUY (매수 관점) | 🔺 |
| 0 | HOLD (관망) | ➖ |
| -1 | SELL (매도 관점) | 🔻 |
| ≤ -2 | STRONG SELL (강력 매도) | 🔵 |

### 4. 매수/매도 전략

**A. 매수 전략 (분할 매수)**
- VWAP 활용: 주가가 상승 추세일 때, 당일 VWAP 라인 근처로 눌릴 때가 최고의 매수 타점
- 시스템 로직: 현재가가 VWAP 대비 -0.5% ~ +0.5% 범위에 있고, RSI(14)가 40 이하일 때 → "매수 기회 포착" 알림
- 골든크로스: 5분/20분 이동평균선이 골든크로스 발생 시 매수 신호

**B. 매도 전략 (이익 실현 및 손절)**
- 목표 수익 도달 시 자동 매도: 종목당 +5% ~ +7% 도달 시 물량의 50% 자동 차익 실현
- 트레일링 스탑 (Trailing Stop): 주가가 고점을 찍고 -3% 하락하면 전량 매도 (이익 보존)
- 손절매 (Stop Loss): 매수가 대비 -3% 도달 시 기계적 손절 (원금 보존 필수)

---

## Claude 보완 의견

### Gemini 설계의 장점

1. **초보자에게 적합한 스윙 트레이딩 추천** - 단타보다 리스크가 낮고, 장기보유보다 월 수익 목표 달성에 유리
2. **점수 기반 시스템** - 감정 배제, 기계적 판단 가능
3. **기술적 지표 조합 (VWAP + RSI + MA)** - 검증된 지표들

### 보완이 필요한 점

#### 1. 데이터 부족 문제
- RSI(14), MA(60)를 계산하려면 **최소 60분 이상의 데이터**가 필요
- 현재 `min_ticks`에 오늘 데이터만 있으면 장 초반(09:00~10:00)에는 신호가 부정확함
- **제안**: 전일 데이터 포함 또는 장 초반 1시간은 "데이터 수집 중" 표시

#### 2. 손절/익절 자동화 미포함
- Gemini가 언급한 "트레일링 스탑 -3%", "익절 +5~7%"는 설계에 없음
- **제안**: 2단계로 추가 구현

#### 3. 거래량 급증 감지 누락
- 스윙 트레이딩에서 **거래량 급증**은 중요한 신호
- **제안**: 거래량이 20일 평균 대비 200% 이상일 때 추가 점수 부여

#### 4. PDF 구조 변경 주의
- `realtime_dashboard.pdf`는 **STRUCTURE LOCKED** 상태
- 신호 표시를 추가하려면 **별도 PDF** 또는 **기존 컬럼 대체** 필요

### 수정된 점수 계산 제안

**점수 계산 (Total Score: -4 ~ +4)**

| 지표 | 조건 | 점수 |
|------|------|------|
| 추세 (MA) | 정배열 (현재가 > MA20 > MA60) | +1 |
| 추세 (MA) | 역배열 (현재가 < MA20 < MA60) | -1 |
| 타점 (VWAP) | VWAP 지지 (현재가 >= VWAP * 0.995) | +1 |
| 타점 (VWAP) | VWAP 이탈 (현재가 < VWAP * 0.99) | -1 |
| 모멘텀 (RSI) | 과매도 (RSI < 30) | +1 |
| 모멘텀 (RSI) | 과매수 (RSI > 70) | -1 |
| **거래량 (Volume)** | 급증 (평균 대비 200%↑) + 상승 | +1 |
| **거래량 (Volume)** | 급증 (평균 대비 200%↑) + 하락 | -1 |

---

## 구현 순서

| 단계 | 작업 | 우선순위 |
|------|------|----------|
| 1 | `technical_indicators.py` - VWAP, RSI, MA 계산 | 🔴 높음 |
| 2 | `trading_signal.py` - 점수/신호 판별 | 🔴 높음 |
| 3 | `test_signal_logic.py` - 테스트 | 🔴 높음 |
| 4 | 신호 결과 DB 저장 테이블 | 🟡 중간 |
| 5 | PDF 또는 알림 연동 | 🟢 낮음 |

---

## 관련 파일

- 크론 스크립트: `cron/1min.py`
- 대시보드 생성: `scripts/generate_realtime_dashboard_terminal_style.py`
- PDF 명세서: `docs/PDF_STRUCTURE_SPECIFICATION.md`

## 결론

Gemini 설계는 좋은 출발점이며, 위 보완 사항(데이터 부족 처리, 거래량 지표 추가)을 반영하여 구현 진행 예정.
